<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>音声変換 主観評価（自然性・話者類似度）</title>
</head>

<body>

  <div style="border:1px solid #000000; padding:10px; background:#ffffff;">
    <h1>音声変換 主観評価（自然性・話者類似度）</h1>

    <h2>実験手順</h2>
    <ol>
      <li>名前を入力し、セットリスト（A / B / C）を1つ選択してください。</li>
      <li>「開始」を押してください。</li>
      <li>各ページで次の2つを聴いてください：
        <ul>
          <li><b>ターゲット話者（参照音声）</b></li>
          <li><b>変換後音声（評価対象）</b></li>
        </ul>
      </li>
      <li>変換後音声について、以下を<b>5段階</b>で評価してください：
        <ul>
          <li><b>自然性</b></li>
          <li><b>話者類似度</b>（変換後音声がターゲット話者にどれだけ似ているか）</li>
        </ul>
      </li>
      <li>両方の評価を選ぶと「次へ」が押せます。最後は「終了（CSVダウンロード）」を押してください。</li>
    </ol>

    <h2>注意事項</h2>
    <ul>
      <li>ヘッドホン／イヤホンの使用を推奨します。</li>
      <li>実験中はページの更新（リロード）をしないでください。</li>
      <li>所要時間は目安として20〜30分です。</li>
      <li>評価は直感で構いません（何度も聴き比べてOKです）。</li>
    </ul>
  </div>

  <script type="text/javascript" src="mos.js"></script>

  <div id="Display1">
    <p>お名前（記録用）:<br>
      <input type="text" id="name" value="">
    </p>

    <p>セットリスト:<br>
      <label><input type="radio" name="set" value="A">A</label><br>
      <label><input type="radio" name="set" value="B">B</label><br>
      <label><input type="radio" name="set" value="C">C</label><br>
    </p>

    <p>
      <button id="next1" onclick="start_experiment()">開始</button>
    </p>

    <p id="loading" style="display:none;">
      セットリストを読み込んでいます… 少々お待ちください。
    </p>
  </div>

  <div id="Display2" style="display:none;">
    <p id="page"></p>
    <!-- sample名は表示しない（バイアス防止） -->
    <p id="meta" style="color:#666;"></p>

    <div style="border:1px solid #ccc; padding:10px; margin-bottom:10px;">
      <p id="audio_tgt"></p>
      <p id="audio_conv"></p>
    </div>

    <div style="border:1px solid #ccc; padding:10px; margin-bottom:10px;">
      <h3>自然性（変換後音声）</h3>
      <p>
        <label><input type="radio" name="nat" value="1" onclick="evaluation()">1（不自然）</label><br>
        <label><input type="radio" name="nat" value="2" onclick="evaluation()">2</label><br>
        <label><input type="radio" name="nat" value="3" onclick="evaluation()">3</label><br>
        <label><input type="radio" name="nat" value="4" onclick="evaluation()">4</label><br>
        <label><input type="radio" name="nat" value="5" onclick="evaluation()">5（自然）</label><br>
      </p>
    </div>

    <div style="border:1px solid #ccc; padding:10px; margin-bottom:10px;">
      <h3>話者類似度（変換後音声 vs ターゲット参照）</h3>
      <p>
        <label><input type="radio" name="sim" value="1" onclick="evaluation()">1（似ていない）</label><br>
        <label><input type="radio" name="sim" value="2" onclick="evaluation()">2</label><br>
        <label><input type="radio" name="sim" value="3" onclick="evaluation()">3</label><br>
        <label><input type="radio" name="sim" value="4" onclick="evaluation()">4</label><br>
        <label><input type="radio" name="sim" value="5" onclick="evaluation()">5（とても似ている）</label><br>
      </p>
    </div>

    <p>
      <button id="prev" onclick="prev()">前へ</button>
      <button id="next2" onclick="next()">次へ</button>
      <button id="finish" onclick="finish()">終了（CSVダウンロード）</button>
    </p>
  </div>

</body>
</html>
